<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>使用jQuery发送异步请求</title>
    <script src="../js/jquery-3.6.0.js"></script>
</head>

<body>
<h1>使用jQuery发送异步请求</h1>
<div style="color: red" id="responseText"></div>
<a href="../handle?name=raphuscucullatus">同步请求</a><br/>
<a href="#" onclick="sendGetRequest()">使用jQuery发送get异步请求</a><br/>
<a href="#" onclick="sendPostRequest()">使用jQuery发送post异步请求</a><br/>
<a href="#" onclick="sendRequest()">使用jQuery的ajax发送异步请求</a><br/>

<script>
    /**
     * 使用jQuery发送get异步请求
     */
    function sendGetRequest() {
        //$.get("请求地址",function(result){}) result默认为text(普通文本字符串)
        $.get("../handle?name=raphuscucullatus", function (result) {
            //    result是服务器响应数据
            $("#responseText").html(result)
        })

    }

    /**
     * 使用jQuery发送post异步请求
     */
    function sendPostRequest() {
        // $.get("请求地址","post参数",function(result){}) result默认为text(普通文本字符串)
        $.post("../handle", "name=raphuscucullatus", function (result) {
            $("#responseText").html(result)
        })
    }

    /**
     * 使用jQuery的Ajax方法发送异步请求
     */
    function sendRequest() {
        $.ajax({
            //请求服务器的URL地址
            url: "../handle",
            //发送到服务器的数据,可以是健值对的形式,也可以是js对象的形式
            data: "name=raphus",
            type: "get",
            //预期的返回类型,取值可以是xml html json text(默认)
            datetype: "text",
            //请求处理成功的回调函数
            success: function (result) {
                $("#responseText").html(result)
            },
            //请求处理失败的回调函数
            error: function () {
                $("#responseText").html("服务器异常")
            }
        })
    }
</script>
</body>
</html>